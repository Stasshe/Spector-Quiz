1. **書き込み数（Writes）**
   - ドキュメントの作成・更新・削除操作の回数。
   - 1 書き込み = 1 ドキュメントに対する create/set/update/delete の1回。

2. **読み取り数（Reads）**
   - ドキュメントの取得操作（get, query, listen）ごとにカウント。
   - クエリで複数ドキュメントが返る場合は、その数だけ加算。
   - リアルタイムリスナーは、初回取得時と変更検知時にカウント。

### クォータ計算方法の具体例

#### 1. 書き込み例
- 1 ドキュメントに対して 1 回 set() → 書き込み 1 回
- 10 ドキュメント一括 set() → 書き込み 10 回
- バッチ書き込み（batch.write）: 含まれる各操作ごとにカウント

#### 2. 読み取り例
- ドキュメント 1 件 get() → 読み取り 1 回
- クエリ（query）で 5 件返る → 読み取り 5 回
- スナップショットリスナー（onSnapshot）: 初回に全件分、以降変更分だけ加算

#### 3. 削除例
- ドキュメント 1 件 delete() → 削除 1 回

#### 4. ストレージ容量
- ドキュメント本体 + インデックス分のサイズが課金対象
- 1 ドキュメントが 1 KB、1000 件保存 → 約 1 MB
- 添付ファイル（画像等）は通常 Cloud Storage を利用

### 注意点

- ルール: 書き込み・読み取り・削除は「ドキュメント数」単位で計算され、コレクション単位ではありません。
- クエリ実行時、返るドキュメント数分だけ「読み取り」としてカウント。
- スナップショットリスナーを長時間動かすと、変更ごとに再カウントされるので注意。
- クォータ超過時は API 呼び出しがエラー（RESOURCE_EXHAUSTED）になります。



* このデータが入っているか？という確認をしたいときに、コレクションからwhereするのではなく、複数のドキュメントを配列に格納したドキュメントを用意して、その中に入ってるかどうか比較する
* 読み出しをする際にオフセットを使わないでカーソルを使う
* オフセットを使うとそれ以前のデータも読み取り回数に入ってしまう(大きな結果セットを管理する)
* ルールの評価はリクエストごとに1回のみ課金されるので、複数ドキュメントを呼び出すときはえいやと思い切って呼び出してみる(Cloud Firestore セキュリティ ルール)


